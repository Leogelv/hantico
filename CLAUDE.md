# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Общие команды разработки

```bash
# Установка зависимостей
npm install

# Запуск dev-сервера (порт 8080)
npm run dev

# Сборка для продакшена
npm run build

# Сборка для development
npm run build:dev

# Линтинг
npm run lint

# Предпросмотр production-сборки
npm run preview
```

## Архитектура проекта

### Основная структура
- **React + TypeScript + Vite** - основной стек
- **shadcn/ui** - компоненты UI на базе Radix UI
- **Tailwind CSS** - стилизация
- **Zustand** - управление состоянием
- **React Router** - маршрутизация
- **TanStack Query** - управление серверным состоянием
- **Three.js + React Three Fiber + Spline** - 3D графика

### Важные директории

```
src/
├── components/        # Переиспользуемые компоненты
│   ├── ui/           # shadcn/ui компоненты
│   ├── 3d/           # 3D компоненты (Three.js, Spline)
│   ├── animations/   # Анимационные компоненты
│   ├── chat/         # Компоненты чата
│   ├── health/       # Компоненты здоровья
│   └── navigation/   # Навигационные компоненты
├── screens/          # Экраны приложения
│   ├── onboarding/   # Экраны онбординга
│   ├── dashboard/    # Экраны дашборда
│   ├── health/       # Экраны здоровья
│   └── analytics/    # Экраны аналитики
├── lib/              # Утилиты и хранилища
│   ├── store/        # Zustand stores
│   ├── types.ts      # TypeScript типы
│   └── utils.ts      # Утилиты
└── pages/            # Основные страницы
```

### Управление состоянием (Zustand)

Основные хранилища:
- `useUserStore` - данные пользователя, онбординг, цели
- `useHealthStore` - данные о здоровье
- `useChatStore` - состояние чата

### Маршрутизация

Основные маршруты:
- `/` - главная страница
- `/welcome` - экран приветствия
- `/onboarding/*` - процесс онбординга
- `/dashboard` - основной дашборд
- `/health-map` - карта здоровья
- `/chat` - чат с AI
- `/profile` - профиль пользователя

### Стилизация

- Используется Tailwind CSS с кастомной конфигурацией
- Компоненты UI из shadcn/ui с возможностью кастомизации
- CSS переменные для темизации в `src/index.css`
- Utility-функция `cn()` для объединения классов

### Важные особенности

1. **Path aliases**: Используется `@/` для импортов из `src/`
2. **TypeScript**: Нестрогий режим (см. tsconfig.json)
3. **3D-компоненты**: Spline интеграция для 3D-моделей
4. **Lovable интеграция**: Проект создан через Lovable.dev
5. **Мобильная навигация**: BottomNavigation для мобильных устройств

### Работа с компонентами

При создании новых компонентов:
1. Используйте существующие UI-компоненты из `src/components/ui/`
2. Следуйте паттерну композиции компонентов
3. Экспортируйте компоненты через named exports
4. Размещайте компоненты в соответствующих поддиректориях

### Работа с состоянием

При работе с Zustand:
1. Создавайте отдельные stores для логически связанных данных
2. Используйте persist middleware для сохранения важных данных
3. Следуйте паттерну actions внутри store

### Комментарии в коде

Все комментарии в коде должны быть на русском языке для понимания функциональности.